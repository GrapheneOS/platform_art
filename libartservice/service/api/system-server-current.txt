// Signature format: 2.0
package com.android.server.art {

  public final class ArtManagerLocal {
    ctor @Deprecated public ArtManagerLocal();
    ctor public ArtManagerLocal(@NonNull android.content.Context);
    method @NonNull public com.android.server.art.model.DeleteResult deleteOptimizedArtifacts(@NonNull com.android.server.pm.snapshot.PackageDataSnapshot, @NonNull String);
    method @NonNull public com.android.server.art.model.DeleteResult deleteOptimizedArtifacts(@NonNull com.android.server.pm.snapshot.PackageDataSnapshot, @NonNull String, int);
    method @NonNull public com.android.server.art.model.OptimizationStatus getOptimizationStatus(@NonNull com.android.server.pm.snapshot.PackageDataSnapshot, @NonNull String);
    method @NonNull public com.android.server.art.model.OptimizationStatus getOptimizationStatus(@NonNull com.android.server.pm.snapshot.PackageDataSnapshot, @NonNull String, int);
    method public int handleShellCommand(@NonNull android.os.Binder, @NonNull android.os.ParcelFileDescriptor, @NonNull android.os.ParcelFileDescriptor, @NonNull android.os.ParcelFileDescriptor, @NonNull String[]);
    method @NonNull public com.android.server.art.model.OptimizeResult optimizePackage(@NonNull com.android.server.pm.snapshot.PackageDataSnapshot, @NonNull String, @NonNull com.android.server.art.model.OptimizeParams);
    method @NonNull public com.android.server.art.model.OptimizeResult optimizePackage(@NonNull com.android.server.pm.snapshot.PackageDataSnapshot, @NonNull String, @NonNull com.android.server.art.model.OptimizeParams, @NonNull android.os.CancellationSignal);
  }

}

package com.android.server.art.model {

  public class ArtFlags {
    method public static int defaultDeleteFlags();
    method public static int defaultGetStatusFlags();
    method public static int defaultOptimizeFlags();
    field public static final int FLAG_FORCE = 16; // 0x10
    field public static final int FLAG_FOR_PRIMARY_DEX = 1; // 0x1
    field public static final int FLAG_FOR_SECONDARY_DEX = 2; // 0x2
    field public static final int FLAG_SHOULD_DOWNGRADE = 8; // 0x8
    field public static final int FLAG_SHOULD_INCLUDE_DEPENDENCIES = 4; // 0x4
    field public static final int PRIORITY_BACKGROUND = 40; // 0x28
    field public static final int PRIORITY_BOOT = 100; // 0x64
    field public static final int PRIORITY_INTERACTIVE = 60; // 0x3c
    field public static final int PRIORITY_INTERACTIVE_FAST = 80; // 0x50
  }

  public class DeleteResult {
    method public long getFreedBytes();
  }

  public class OptimizationStatus {
    method @NonNull public java.util.List<com.android.server.art.model.OptimizationStatus.DexFileOptimizationStatus> getDexFileOptimizationStatuses();
  }

  public static class OptimizationStatus.DexFileOptimizationStatus {
    method @NonNull public String getCompilationReason();
    method @NonNull public String getCompilerFilter();
    method @NonNull public String getDexFile();
    method @NonNull public String getInstructionSet();
    method @NonNull public String getLocationDebugString();
  }

  public class OptimizeParams {
    method @NonNull public String getCompilerFilter();
    method public int getFlags();
    method public int getPriorityClass();
    method @NonNull public String getReason();
    field public static final String COMPILER_FILTER_NOOP = "skip";
  }

  public static final class OptimizeParams.Builder {
    ctor public OptimizeParams.Builder(@NonNull String);
    ctor public OptimizeParams.Builder(@NonNull String, int);
    method @NonNull public com.android.server.art.model.OptimizeParams build();
    method @NonNull public com.android.server.art.model.OptimizeParams.Builder setCompilerFilter(@NonNull String);
    method @NonNull public com.android.server.art.model.OptimizeParams.Builder setFlags(int);
    method @NonNull public com.android.server.art.model.OptimizeParams.Builder setFlags(int, int);
    method @NonNull public com.android.server.art.model.OptimizeParams.Builder setPriorityClass(int);
    method @NonNull public com.android.server.art.model.OptimizeParams.Builder setReason(@NonNull String);
  }

  public class OptimizeResult {
    method public int getFinalStatus();
    method @NonNull public java.util.List<com.android.server.art.model.OptimizeResult.PackageOptimizeResult> getPackageOptimizeResults();
    method @NonNull public String getReason();
    method @NonNull public String getRequestedCompilerFilter();
    field public static final int OPTIMIZE_CANCELLED = 40; // 0x28
    field public static final int OPTIMIZE_FAILED = 30; // 0x1e
    field public static final int OPTIMIZE_PERFORMED = 20; // 0x14
    field public static final int OPTIMIZE_SKIPPED = 10; // 0xa
  }

  public static class OptimizeResult.DexFileOptimizeResult {
    method @NonNull public String getActualCompilerFilter();
    method public long getDex2oatCpuTimeMillis();
    method public long getDex2oatWallTimeMillis();
    method @NonNull public String getDexFile();
    method @NonNull public String getInstructionSet();
    method public int getStatus();
  }

  public static class OptimizeResult.PackageOptimizeResult {
    method @NonNull public java.util.List<com.android.server.art.model.OptimizeResult.DexFileOptimizeResult> getDexFileOptimizeResults();
    method @NonNull public String getPackageName();
    method public int getStatus();
  }

}

